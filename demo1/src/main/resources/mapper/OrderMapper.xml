<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="com.ljsh.test.mbg.mapper.OrderMapper">

    <sql id="table">order_list</sql>

    <resultMap id="order" type="com.ljsh.test.mbg.model.Order">
        <result property="order_id" column="order_id" />
        <result property="payment" column="payment" />
        <result property="payment_type" column="payment_type" />
        <result property="post_cost" column="post_cost" />
        <result property="status" column="status" />
        <result property="submit_time" column="submit_time"/>
        <result property="payment_time" column="payment_time" />
        <result property="consign_time" column="consign_time" />
        <result property="end_time" column="end_time" />
        <result property="close_time" column="close_time" />
        <result property="shipping_name" column="shipping_name" />
        <result property="shipping_code" column="shipping_code" />
        <result property="user_id" column="user_id" />
        <result property="buyer_message" column="buyer_message" />
        <result property="buyer_nick" column="buyer_nick" />
        <result property="buyer_comment" column="buyer_comment" />
    </resultMap>

    <select id="getAll" resultMap="order">
        SELECT
        *
        FROM
        <include refid="table"/>
    </select>

    <delete id="delete" parameterType="String">
        DELETE FROM
        <include refid="table"/>
        WHERE
        order_id = #{order_id}
    </delete>

    <select id="getOrderByID" parameterType="String" resultMap="order">
        SELECT
        *
        FROM
        <include refid="table"/>
        WHERE
        order_id=#{order_id}
    </select>

    <insert id="add" parameterType="com.ljsh.test.mbg.model.Order">
        INSERT INTO
        <include refid="table"/>
        (order_id,user_id,buyer_nick,submit_time)
        VALUES
        (#{order_id},#{user_id},#{buyer_nick},NOW())
    </insert>

</mapper>
