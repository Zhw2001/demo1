<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="com.ljsh.test.mbg.mapper.CourseInfoMapper">

    <sql id="info">courseinfo</sql>

    <resultMap type="com.ljsh.test.mbg.model.CourseInfo" id="cinfoMap">
        <id  property="cNum" column="info_cNum" javaType="Integer" jdbcType="INTEGER"/>
        <result property="cId" column="info_cId" javaType="String" jdbcType="VARCHAR"/>
        <result property="department" column="department" javaType="String" jdbcType="VARCHAR"/>
        <result property="cName" column="cName" javaType="String" jdbcType="VARCHAR"/>
        <result property="cTarget" column="cTarget" javaType="String" jdbcType="VARCHAR"/>
        <result property="A" column="A" javaType="Double" jdbcType="DOUBLE"/>
        <result property="B" column="B" javaType="Double" jdbcType="DOUBLE"/>
        <result property="C" column="C" javaType="Double" jdbcType="DOUBLE"/>
        <result property="D" column="D" javaType="Double" jdbcType="DOUBLE"/>
        <result property="F" column="F" javaType="Double" jdbcType="DOUBLE"/>
        <result property="course_type" column="course_type" javaType="Integer" jdbcType="INTEGER"/>
        <collection property="Course" column="info_cId" ofType="com.ljsh.test.mbg.model.Course" resultMap="com.ljsh.test.mbg.mapper.CourseMapper.cMap"/>
    </resultMap>

    <resultMap type="com.ljsh.test.mbg.model.CourseInfo" id="einfoMap">
        <id  property="cNum" column="info_cNum" javaType="Integer" jdbcType="INTEGER"/>
        <result property="cId" column="info_cId" javaType="String" jdbcType="VARCHAR"/>
        <result property="department" column="department" javaType="String" jdbcType="VARCHAR"/>
        <result property="cName" column="cName" javaType="String" jdbcType="VARCHAR"/>
        <result property="cTarget" column="cTarget" javaType="String" jdbcType="VARCHAR"/>
        <result property="A" column="A" javaType="Double" jdbcType="DOUBLE"/>
        <result property="B" column="B" javaType="Double" jdbcType="DOUBLE"/>
        <result property="C" column="C" javaType="Double" jdbcType="DOUBLE"/>
        <result property="D" column="D" javaType="Double" jdbcType="DOUBLE"/>
        <result property="F" column="F" javaType="Double" jdbcType="DOUBLE"/>
        <result property="course_type" column="course_type" javaType="Integer" jdbcType="INTEGER"/>
        <collection property="Experiment" column="info_cId" ofType="com.ljsh.test.mbg.model.Experiment" resultMap="com.ljsh.test.mbg.mapper.ExperimentMapper.eMap"/>
    </resultMap>

    <resultMap type="com.ljsh.test.mbg.model.CourseInfo" id="cdinfoMap">
        <id  property="cNum" column="info_cNum" javaType="Integer" jdbcType="INTEGER"/>
        <result property="cId" column="info_cId" javaType="String" jdbcType="VARCHAR"/>
        <result property="department" column="department" javaType="String" jdbcType="VARCHAR"/>
        <result property="cName" column="cName" javaType="String" jdbcType="VARCHAR"/>
        <result property="cTarget" column="cTarget" javaType="String" jdbcType="VARCHAR"/>
        <result property="A" column="A" javaType="Double" jdbcType="DOUBLE"/>
        <result property="B" column="B" javaType="Double" jdbcType="DOUBLE"/>
        <result property="C" column="C" javaType="Double" jdbcType="DOUBLE"/>
        <result property="D" column="D" javaType="Double" jdbcType="DOUBLE"/>
        <result property="F" column="F" javaType="Double" jdbcType="DOUBLE"/>
        <result property="course_type" column="course_type" javaType="Integer" jdbcType="INTEGER"/>
        <collection property="Cdesign" column="info_cId" ofType="com.ljsh.test.mbg.model.Cdesign" resultMap="com.ljsh.test.mbg.mapper.CdesignMapper.cdMap"/>
    </resultMap>

    <resultMap type="com.ljsh.test.mbg.model.CourseInfo" id="gdinfoMap">
        <id  property="cNum" column="info_cNum" javaType="Integer" jdbcType="INTEGER"/>
        <result property="cId" column="info_cId" javaType="String" jdbcType="VARCHAR"/>
        <result property="department" column="department" javaType="String" jdbcType="VARCHAR"/>
        <result property="cName" column="cName" javaType="String" jdbcType="VARCHAR"/>
        <result property="cTarget" column="cTarget" javaType="String" jdbcType="VARCHAR"/>
        <result property="A" column="A" javaType="Double" jdbcType="DOUBLE"/>
        <result property="B" column="B" javaType="Double" jdbcType="DOUBLE"/>
        <result property="C" column="C" javaType="Double" jdbcType="DOUBLE"/>
        <result property="D" column="D" javaType="Double" jdbcType="DOUBLE"/>
        <result property="F" column="F" javaType="Double" jdbcType="DOUBLE"/>
        <result property="course_type" column="course_type" javaType="Integer" jdbcType="INTEGER"/>
        <collection property="Gdesign" column="gdesign_id" ofType="com.ljsh.test.mbg.model.Gdesign" resultMap="com.ljsh.test.mbg.mapper.GdesignMapper.gdMap"/>
    </resultMap>


    <select id="get_Course_Cid"  resultMap="cinfoMap" >
        SELECT *
        FROM
        (courseinfo left join course on cId = info_cId)
        <where>
            <foreach item="item" index="index" collection="array"  open="info_cId in (" separator="," close=")">
                #{item}
            </foreach>
        </where>
    </select>

    <select id="get_Exper_Cid"  resultMap="einfoMap" >
        SELECT *
        FROM
        (courseinfo left join experiment on cId = info_cId)
        <where>
            <foreach item="item" index="index" collection="array"  open="info_cId in (" separator="," close=")">
                #{item}
            </foreach>
        </where>
    </select>

    <select id="get_Cdesign_Cid"  resultMap="cdinfoMap" >
        SELECT *
        FROM
        (courseinfo left join cdesign on cId = info_cId)
        <where>
            <foreach item="item" index="index" collection="array"  open="info_cId in (" separator="," close=")">
                #{item}
            </foreach>
        </where>
    </select>

    <select id="get_Gdesign_Cid"  resultMap="gdinfoMap" >
        SELECT *
        FROM
        (courseinfo left join gdesign on cId = info_cId)
        <where>
            <foreach item="item" index="index" collection="array"  open="info_cId in (" separator="," close=")">
                #{item}
            </foreach>
        </where>
    </select>


</mapper>